# Development Environment Configuration Template
# Copy this file to .env and modify the values as needed
# This file contains all environment variables for both backend and frontend

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================

# Environment Type (development, production, test)
NODE_ENV=development

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Backend Server
BACKEND_PORT=3001
BACKEND_HOST=0.0.0.0

# Frontend Server (development only)
FRONTEND_PORT=3000
FRONTEND_HOST=0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB
MONGODB_ROOT_USERNAME=admin
MONGODB_ROOT_PASSWORD=password
MONGODB_DATABASE=tempmail_${NODE_ENV}
MONGODB_HOST=mongodb-dev
MONGODB_PORT=27017

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# MAIL SYSTEM CONFIGURATION
# =============================================================================

# Mail Domain
MAIL_DOMAIN=127.0.0.1

# Internal Mail Processing
MAIL_PORT=2525

# External Mail Provider, For Sending Mail
SMTP_HOST=localhost
SMTP_PORT=1025

# Development: MailHog Configuration
MAILHOG_HOST=mailhog
MAILHOG_PORT=1025
MAILHOG_UI_PORT=8025

# Production: Postfix Configuration
POSTFIX_MYHOSTNAME=mail.nnu.edu.kg
POSTFIX_MYDOMAIN=nnu.edu.kg
POSTFIX_MYORIGIN=nnu.edu.kg
POSTFIX_SMTP_PORT=25
POSTFIX_SUBMISSION_PORT=587

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-in-production-very-long-and-secure
JWT_EXPIRES_IN=24h

# Session
SESSION_SECRET=your-super-secret-session-key-change-in-production-very-long-and-secure

# Password Hashing
BCRYPT_ROUNDS=12

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

CORS_ORIGIN=http://localhost:3000
CORS_ADDITIONAL_ORIGINS=http://localhost:3001,http://127.0.0.1:3000,http://127.0.0.1:3001
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin,X-CSRF-Token
CORS_EXPOSED_HEADERS=X-CSRF-Token

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

LOG_LEVEL=INFO

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Container Names
MONGODB_CONTAINER_NAME=tempmail-mongodb
REDIS_CONTAINER_NAME=tempmail-redis
BACKEND_CONTAINER_NAME=tempmail-backend
FRONTEND_CONTAINER_NAME=tempmail-frontend
MAILSERVER_CONTAINER_NAME=tempmail-mailserver
NGINX_CONTAINER_NAME=tempmail-nginx

# Docker Images
MONGODB_IMAGE=mongo:7.0
REDIS_IMAGE=redis:7.2-alpine
NGINX_IMAGE=nginx:1.25-alpine

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=30s

# Resource Limits (Production)
MONGODB_MEMORY_LIMIT=512M
MONGODB_CPU_LIMIT=1.0
REDIS_MEMORY_LIMIT=256M
REDIS_CPU_LIMIT=0.5
BACKEND_MEMORY_LIMIT=512M
BACKEND_CPU_LIMIT=0.5
FRONTEND_MEMORY_LIMIT=128M
FRONTEND_CPU_LIMIT=0.25
MAILSERVER_MEMORY_LIMIT=256M
MAILSERVER_CPU_LIMIT=0.5
NGINX_MEMORY_LIMIT=128M
NGINX_CPU_LIMIT=0.25

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# API Configuration
VITE_API_BASE_URL=http://localhost:3001/api

# WebSocket Configuration
VITE_WS_URL=http://localhost:3001

# App Configuration
VITE_APP_TITLE=临时邮箱 - 127.0.0.1
VITE_DOMAIN=127.0.0.1

# React App Configuration (for compatibility)
REACT_APP_API_URL=http://localhost:3001/api
REACT_APP_WS_URL=http://localhost:3001
REACT_APP_MAIL_DOMAIN=127.0.0.1

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Debug Configuration
DEBUG=tempmail:*