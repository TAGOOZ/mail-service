@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    /* Improve text rendering on mobile */
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-gray-50 text-gray-900;
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
    /* Improve touch scrolling */
    -webkit-overflow-scrolling: touch;
  }

  /* Improve focus visibility for accessibility */
  *:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }

  /* Hide focus outline for mouse users */
  .js-focus-visible *:focus:not(.focus-visible) {
    outline: none;
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 active:bg-primary-800 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 touch-manipulation;
  }

  .btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 active:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 touch-manipulation;
  }

  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200;
  }

  /* Touch-friendly interactions */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Smooth scrolling for mobile */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Prevent text selection on interactive elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Loading shimmer effect */
  .shimmer {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }

    100% {
      background-position: 200% 0;
    }
  }
}

/* Ma
il HTML Content Styles */
.mail-html-content {
  @apply text-gray-800 leading-relaxed;
}

.mail-html-content p {
  @apply mb-4;
}

.mail-html-content h1,
.mail-html-content h2,
.mail-html-content h3,
.mail-html-content h4,
.mail-html-content h5,
.mail-html-content h6 {
  @apply font-semibold mb-3 mt-6;
}

.mail-html-content h1 {
  @apply text-2xl;
}

.mail-html-content h2 {
  @apply text-xl;
}

.mail-html-content h3 {
  @apply text-lg;
}

.mail-html-content strong,
.mail-html-content b {
  @apply font-semibold;
}

.mail-html-content em,
.mail-html-content i {
  @apply italic;
}

.mail-html-content u {
  @apply underline;
}

.mail-html-content a {
  @apply text-blue-600 hover:text-blue-800 underline;
}

.mail-html-content ul,
.mail-html-content ol {
  @apply mb-4 pl-6;
}

.mail-html-content ul {
  @apply list-disc;
}

.mail-html-content ol {
  @apply list-decimal;
}

.mail-html-content li {
  @apply mb-1;
}

.mail-html-content table {
  @apply w-full border-collapse border border-gray-300 mb-4;
}

.mail-html-content th,
.mail-html-content td {
  @apply border border-gray-300 px-3 py-2 text-left;
}

.mail-html-content th {
  @apply bg-gray-100 font-semibold;
}

.mail-html-content img {
  @apply max-w-full h-auto rounded-md;
  /* Prevent layout shift while loading */
  width: auto;
  height: auto;
}

.mail-html-content blockquote {
  @apply border-l-4 border-gray-300 pl-4 italic text-gray-600 mb-4;
}

.mail-html-content pre {
  @apply bg-gray-100 p-4 rounded-md overflow-x-auto mb-4;
}

.mail-html-content code {
  @apply bg-gray-100 px-2 py-1 rounded text-sm font-mono;
}

.mail-html-content pre code {
  @apply bg-transparent p-0;
}

/ * Mobile-specific optimizations */ @media (max-width: 640px) {
  /* Reduce motion for better performance on mobile */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Optimize scrolling performance */
  .scroll-container {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }

  /* Improve tap targets */
  button:not(.no-min-size),
  a:not(.no-min-size),
  input:not(.no-min-size),
  select:not(.no-min-size),
  textarea:not(.no-min-size) {
    min-height: 44px;
  }

  /* Prevent zoom on input focus */
  input,
  select,
  textarea {
    font-size: 16px;
  }

  /* Optimize mail content for mobile */
  .mail-html-content {
    word-break: break-word;
    overflow-wrap: break-word;
  }

  .mail-html-content table {
    font-size: 14px;
    overflow-x: auto;
    display: block;
    white-space: nowrap;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card {
    @apply border-2 border-gray-400;
  }

  button {
    @apply border-2 border-current;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}